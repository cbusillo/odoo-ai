######################################################################
# Odoo AI Docker Environment
#
# Copy to `.env` and fill values for your environment.
# Keep real secrets OUT of git; use a secrets manager for production.
# Non-secret defaults live in docker/config/base.env (tracked).
# Use `.env` for secrets or intentional local overrides.
######################################################################

## Core Versions
PYTHON_VERSION=3.13
ODOO_VERSION=19.0

## Compose/Docker
# Containers will be named `{project}-{service}-{number}`
ODOO_PROJECT_NAME=odoo
DOCKER_IMAGE=odoo-ai
COMPOSE_BUILD_TARGET=development
COMPOSE_MENU=false
DOCKER_CLIENT_TIMEOUT=600
# Optional: override bind-mount paths for filestore/postgres/logs.
# Defaults place them under ~/odoo-ai/${ODOO_PROJECT_NAME}/ via ODOO_STATE_ROOT.
# Stack-specific env overrides belong in docker/config/<stack>.env (ignored by git).
# ODOO_STATE_ROOT=/opt/odoo-ai/data/opw-dev
# ODOO_DATA_DIR=/opt/odoo-ai/data/opw-dev/filestore
# ODOO_DB_DIR=/opt/odoo-ai/data/opw-dev/postgres
# ODOO_LOG_DIR=/opt/odoo-ai/data/opw-dev/logs
# ODOO_LOGFILE=/volumes/logs/odoo.log

## Odoo Paths & Addons
# Addon repos (comma-separated). Optional @branch (defaults to main).
ODOO_ADDON_REPOSITORIES=odoo/odoo-enterprise@19.0,cbusillo/disable_odoo_online@main
ODOO_FILESTORE_PATH="/volumes/data/filestore"

## Database
ODOO_DB_NAME=odoo_dev
ODOO_DB_USER=odoo
ODOO_DB_PASSWORD=change_me

## Odoo Behavior
# Modules to install on init/restore (comma/colon list). If unset, falls back
# to ODOO_AUTO_MODULES for backward compatibility.
ODOO_INSTALL_MODULES=repairshopr_import,fishbowl_import,cm_data_import,cm_custom
# Module update scope: AUTO upgrades all installed local addons; otherwise list
# modules explicitly.
# ODOO_UPDATE_MODULES=AUTO
ODOO_DEV_MODE=all
ODOO_LOG_LEVEL=info

## Security
# Master password for database manager (admin_passwd)
# ODOO_MASTER_PASSWORD=
# Disable database manager/listing (recommended)
# ODOO_LIST_DB=False

## Limits (tune for heavy imports or long jobs)
# ODOO_LIMIT_MEMORY_HARD=26843545600
# ODOO_LIMIT_MEMORY_SOFT=21474836480
# ODOO_LIMIT_REQUEST=65536
ODOO_LIMIT_TIME_CPU=72000
ODOO_LIMIT_TIME_REAL=72000
ODOO_LIMIT_TIME_REAL_CRON=72000
ODOO_LIMIT_TIME_WORKER_CRON=72000

## Environment URLs & Keys
# Public base URL for this Odoo (used by callbacks/integrations)
# Example: https://local.example.yourdomain.com
ENV_OVERRIDE_CONFIG_PARAM__WEB__BASE__URL=
# Freeze base URL to avoid auto-resets during upgrades/restores
ENV_OVERRIDE_CONFIG_PARAM__WEB__BASE__URL_FREEZE=True
# Force OAuth userinfo requests to use Authorization header (recommended)
ENV_OVERRIDE_CONFIG_PARAM__AUTH_OAUTH__AUTHORIZATION_HEADER=True
# Keep invitation scope locked down; OAuth provisioning uses internal template override
# ENV_OVERRIDE_CONFIG_PARAM__AUTH_SIGNUP__INVITATION_SCOPE=b2b
# Disable cron execution in non-prod restores
ENV_OVERRIDE_DISABLE_CRON=true
# Project key for helper scripts (keep secret)
ODOO_KEY=

## Upstream Sync (DB/Filestore source-of-truth)
# Used by maintenance workflows to pull prod data into dev/test
ODOO_UPSTREAM_HOST=
ODOO_UPSTREAM_USER=
ODOO_UPSTREAM_DB_NAME=
ODOO_UPSTREAM_DB_USER=
ODOO_UPSTREAM_FILESTORE_PATH="/opt/odoo/local_data/filestore"

## Integrations — Shopify (optional)
# Provide either STORE_URL_KEY (shop subdomain alias) and credentials.
# For production, source these via a secrets manager.
# ENV_OVERRIDE_SHOPIFY__SHOP_URL_KEY=
# ENV_OVERRIDE_SHOPIFY__API_TOKEN=
# ENV_OVERRIDE_SHOPIFY__API_VERSION=2026-01 (pin to a specific version)
# ENV_OVERRIDE_SHOPIFY__WEBHOOK_KEY=
# ENV_OVERRIDE_SHOPIFY__TEST_STORE=True
# ENV_OVERRIDE_SHOPIFY__PRODUCTION_INDICATORS=yps-your-part-supplier,outboardpartswarehouse,opw-prod,production,live

## Integrations — Authentik (optional)
# ENV_OVERRIDE_AUTHENTIK__CLIENT_ID=
# ENV_OVERRIDE_AUTHENTIK__BASE_URL=https://authentik.example.com
# ENV_OVERRIDE_AUTHENTIK__SCOPE=openid profile email
# ENV_OVERRIDE_AUTHENTIK__LOGIN_LABEL=Sign in with Authentik
# ENV_OVERRIDE_AUTHENTIK__CSS_CLASS=fa fa-fw fa-sign-in text-primary
# ENV_OVERRIDE_AUTHENTIK__AUTHORIZATION_ENDPOINT=
# ENV_OVERRIDE_AUTHENTIK__USERINFO_ENDPOINT=
# ENV_OVERRIDE_AUTHENTIK__DATA_ENDPOINT=
# ENV_OVERRIDE_AUTHENTIK__DISABLE_PROVIDERS=Odoo.com
# ENV_OVERRIDE_AUTHENTIK__GROUP_CLAIM=groups
# ENV_OVERRIDE_AUTHENTIK__ADMIN_GROUP=authentik Admins
# ENV_OVERRIDE_AUTHENTIK__USER_ID_CLAIMS=user_id,sub,id,uid
# ENV_OVERRIDE_AUTHENTIK__LOGIN_CLAIMS=email,preferred_username,username,login
# ENV_OVERRIDE_AUTHENTIK__NAME_CLAIMS=name,full_name,display_name,preferred_username,username,email

## Integrations — Fishbowl (optional)
# ENV_OVERRIDE_CONFIG_PARAM__FISHBOWL__HOST=
# ENV_OVERRIDE_CONFIG_PARAM__FISHBOWL__PORT=3306
# ENV_OVERRIDE_CONFIG_PARAM__FISHBOWL__USER=
# ENV_OVERRIDE_CONFIG_PARAM__FISHBOWL__DB=
# ENV_OVERRIDE_CONFIG_PARAM__FISHBOWL__PASSWORD=
# ENV_OVERRIDE_CONFIG_PARAM__FISHBOWL__SSL_VERIFY=False

## Data sources — CM data (optional)
# Preferred env override format (matches other importers)
# ENV_OVERRIDE_CONFIG_PARAM__CM_DATA__DB__HOST=
# ENV_OVERRIDE_CONFIG_PARAM__CM_DATA__DB__PORT=3306
# ENV_OVERRIDE_CONFIG_PARAM__CM_DATA__DB__USER=
# ENV_OVERRIDE_CONFIG_PARAM__CM_DATA__DB__PASSWORD=
# ENV_OVERRIDE_CONFIG_PARAM__CM_DATA__DB__NAME=school_information
# ENV_OVERRIDE_CONFIG_PARAM__CM_DATA__DB__USE_SSL=False
# ENV_OVERRIDE_CONFIG_PARAM__CM_DATA__DB__SSL_VERIFY=True
# Legacy keys (still supported by cm_data_import)
# CM_DATA_DB_LABEL=cm-data
# CM_DATA_DB_HOST=
# CM_DATA_DB_PORT=3306
# CM_DATA_DB_USER=
# CM_DATA_DB_PASSWORD=
# CM_DATA_DB_NAME=

## Integrations — RepairShopr (sync DB, optional)
# REPAIRSHOPR__TOKEN=
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__HOST=
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__PORT=3306
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__USER=
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__PASSWORD=
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__NAME=repairshopr
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__USE_SSL=True
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__SSL_VERIFY=True
# ENV_OVERRIDE_CONFIG_PARAM__REPAIRSHOPR__SYNC_DB__BATCH_SIZE=500

## Tokens (optional; keep secrets out of git)
# GITHUB_TOKEN=
# HUGGING_FACE_TOKEN=
# PORTAINER_TOKEN=
