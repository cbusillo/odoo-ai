######################################################################
# Odoo AI Docker Environment
#
# Copy to `.env` and fill values for your environment.
# Keep real secrets OUT of git; use a secrets manager for production.
# Non-secret defaults live in docker/config/base.env (tracked).
# Use `.env` for secrets or intentional local overrides.
######################################################################

## Core Versions
PYTHON_VERSION=3.13
ODOO_VERSION=19.0

## Compose/Docker
# Containers will be named `{project}-{service}-{number}`
ODOO_PROJECT_NAME=odoo
DOCKER_IMAGE=odoo-ai
COMPOSE_BUILD_TARGET=development
COMPOSE_MENU=false
DOCKER_CLIENT_TIMEOUT=600
# Optional: override bind-mount paths for filestore/postgres/logs.
# Defaults place them under ~/odoo-ai/${ODOO_PROJECT_NAME}/ via ODOO_STATE_ROOT.
# Stack-specific env overrides belong in docker/config/<stack>.env (ignored by git).
# ODOO_STATE_ROOT=/opt/odoo-ai/data/opw-dev
# ODOO_DATA_DIR=/opt/odoo-ai/data/opw-dev/filestore
# ODOO_DB_DIR=/opt/odoo-ai/data/opw-dev/postgres
# ODOO_LOG_DIR=/opt/odoo-ai/data/opw-dev/logs
# ODOO_LOGFILE=/volumes/logs/odoo.log

## Odoo Paths & Addons
# Addon repos (comma-separated). Optional @branch (defaults to main).
ODOO_ADDON_REPOSITORIES=odoo/odoo-enterprise@19.0,cbusillo/disable_odoo_online@main
ODOO_FILESTORE_PATH="/volumes/data/filestore"

## Database
ODOO_DB_NAME=odoo_dev
ODOO_DB_USER=odoo
ODOO_DB_PASSWORD=change_me

## Odoo Behavior
# Optional explicit comma/colon list used by tools to scope module upgrades.
# ODOO_AUTO_MODULES=
ODOO_DEV_MODE=all
ODOO_LOG_LEVEL=info

## Limits (tune for heavy imports or long jobs)
# ODOO_LIMIT_MEMORY_HARD=26843545600
# ODOO_LIMIT_MEMORY_SOFT=21474836480
# ODOO_LIMIT_REQUEST=65536
ODOO_LIMIT_TIME_CPU=72000
ODOO_LIMIT_TIME_REAL=72000
ODOO_LIMIT_TIME_REAL_CRON=72000
ODOO_LIMIT_TIME_WORKER_CRON=72000

## Environment URLs & Keys
# Public base URL for this Odoo (used by callbacks/integrations)
# Example: https://local.example.yourdomain.com
ENV_OVERRIDE_CONFIG_PARAM__WEB__BASE__URL=
# Freeze base URL to avoid auto-resets during upgrades/restores
ENV_OVERRIDE_CONFIG_PARAM__WEB__BASE__URL_FREEZE=True
# Force OAuth userinfo requests to use Authorization header (recommended)
ENV_OVERRIDE_CONFIG_PARAM__AUTH_OAUTH__AUTHORIZATION_HEADER=True
# Keep invitation scope locked down; OAuth provisioning uses internal template override
# ENV_OVERRIDE_CONFIG_PARAM__AUTH_SIGNUP__INVITATION_SCOPE=b2b
# Disable cron execution in non-prod restores
ENV_OVERRIDE_DISABLE_CRON=true
# Project key for helper scripts (keep secret)
ODOO_KEY=

## Upstream Sync (DB/Filestore source-of-truth)
# Used by maintenance workflows to pull prod data into dev/test
ODOO_UPSTREAM_HOST=
ODOO_UPSTREAM_USER=
ODOO_UPSTREAM_DB_NAME=
ODOO_UPSTREAM_DB_USER=
ODOO_UPSTREAM_FILESTORE_PATH="/opt/odoo/local_data/filestore"

## Integrations — Shopify (optional)
# Provide either STORE_URL_KEY (shop subdomain alias) and credentials.
# For production, source these via a secrets manager.
# ENV_OVERRIDE_SHOPIFY__SHOP_URL_KEY=
# ENV_OVERRIDE_SHOPIFY__API_TOKEN=
# ENV_OVERRIDE_SHOPIFY__API_VERSION=2025-07 (pin to a specific version)
# ENV_OVERRIDE_SHOPIFY__WEBHOOK_KEY=
# ENV_OVERRIDE_SHOPIFY__TEST_STORE=True
# ENV_OVERRIDE_SHOPIFY__PRODUCTION_INDICATORS=yps-your-part-supplier,outboardpartswarehouse,opw-prod,production,live

## Integrations — Authentik (optional)
# ENV_OVERRIDE_AUTHENTIK__CLIENT_ID=
# ENV_OVERRIDE_AUTHENTIK__AUTHORIZATION_ENDPOINT=
# ENV_OVERRIDE_AUTHENTIK__USERINFO_ENDPOINT=
# ENV_OVERRIDE_AUTHENTIK__SCOPE=openid profile email
# ENV_OVERRIDE_AUTHENTIK__LOGIN_LABEL=Sign in with Authentik
# ENV_OVERRIDE_AUTHENTIK__CSS_CLASS=fa fa-fw fa-sign-in text-primary
# ENV_OVERRIDE_AUTHENTIK__DATA_ENDPOINT=

## Tokens (optional; keep secrets out of git)
# GITHUB_TOKEN=
# HUGGING_FACE_TOKEN=
# PORTAINER_TOKEN=
